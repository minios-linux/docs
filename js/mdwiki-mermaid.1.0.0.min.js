(function($){'use strict';var mermaidGimmick={name:'mermaid',version:'1.0.0',load:function(){$.md.stage('gimmick').subscribe(function(done){var mermaidBlocks=$('pre code[class*="mermaid"]');if(mermaidBlocks.length===0){done();return;}mermaidBlocks.each(function(){var $code=$(this);var $pre=$code.parent('pre');var diagramText=$code.text();var $mermaidContainer=$('<div class="mermaid"></div>').text(diagramText);$pre.addClass('no-highlight');$pre.replaceWith($mermaidContainer);});try{mermaid.initialize({startOnLoad:true,theme:'neutral'});mermaid.init(undefined,'.mermaid');}catch(e){console.error("Mermaid initialization error: ",e);}done();});}};$.md.registerGimmick(mermaidGimmick);})(jQuery);
